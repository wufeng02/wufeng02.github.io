$(function(){var d=function(f){var e="user::language";if(f){$.storage.setItem(e,f)}else{f=$.storage.getItem(e)}if(f&&f.trim().toLowerCase().indexOf("zh")>=0){$(":lang(zh)").show();$(":lang(en)").hide()}else{$(":lang(zh)").hide();$(":lang(en)").show()}},c=function(e){if(!this.audio){this.audio=new Audio(e)}else{this.audio.pause()}this.audio.play()};var b="user::scroll",a;$(document).scroll(function(f){$.storage.setItem(b,$(document).scrollTop())});if(a=$.storage.getItem(b)){$(document).scrollTop(a)}$(window).scroll(function(){var e=$(this).scrollTop();if(e>100){$("#scrollup").fadeIn(450)}else{$("#scrollup").fadeOut(450)}return true});$("#scrollup").on("inserted.bs.popover",function(){d()});$('[data-toggle="popover"]').popover({html:true});$('[data-toggle="lightbox"]').click(function(k){k.preventDefault();var h=$("#lightbox"),l=$(this).attr("href");var g=(/\.(gif|jpg|jpeg|tiff|png|bmp)$/i).test(l)?$('<img style="max-width: 100%; max-height: 75vh; cursor: pointer;"/>').click(function(m){window.open(l,"_blank")}):$('<iframe frameborder="0" style="width: 100%; height: 75vh;" allowfullscreen />');g.attr("src",l);h.find(".modal-dialog").attr("style",$(this).attr("data-style")||"");h.find(".modal-title").html($(this).attr("data-title"));h.find(".modal-body").empty().append(g);h.find(".close").show();var i=h.find(".modal-content").css("width","").css("top","").css("left","");var j=h.find(".modal-body").css("width","").css("height","");j.mousedown(function(){j.on("mousemove.resize",function(){var m=i.css("width"),e=j.css("width");if(m!==e){i.css("width",e)}})});var f=h.find(".modal-header");f.mousedown(function(n){var m=n.clientX-parseInt(i.css("left"),10);var e=n.clientY-parseInt(i.css("top"),10);f.on("mousemove.move",function(q){var p=q.clientX-m;var o=q.clientY-e;i.css({left:p+"px",top:o+"px"})})});$("body").mouseup(function(){f.off("mousemove.move");j.off("mousemove.resize")});h.modal("show").on("shown.bs.modal",function(){d()});return false});$.translate=d;$.play=c});