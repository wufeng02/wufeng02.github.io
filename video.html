<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>

        <meta name="robots" content="NOINDEX, NOFOLLOW"/>

        <title>Feng Wu (吴锋) | Video</title>

        <link href="http://vjs.zencdn.net/5.9.2/video-js.min.css" rel="stylesheet" type="text/css"/>
        <style type="text/css">
            body {
                background-color: black;
            }
            #video {
                width: 100%;
                height: 95vh;
            }
        </style>
    </head>
    <body>
        <video id="video" class="video-js vjs-default-skin vjs-big-play-centered" 
            controls preload="auto" data-setup='{"techOrder": ["html5", "flash"]}'>
            <p class="vjs-no-js">
                To view this video please enable JavaScript, 
                and consider upgrading to a web browser that 
                <a href="http://videojs.com/html5-video-support/" target="_blank">
                    supports HTML5 video
                </a>.
            </p>
        </video>

        <script src="http://vjs.zencdn.net/5.9.2/video.min.js" type="text/javascript"></script>
        <script src="http://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js" type="text/javascript"></script>

        <script src="//wufeng02.github.io/lib/jquery/jquery-1.12.0.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            (function($){
                $.queries = {};
                
                var search = window.location.search.substring(1);
                if (search) {
                    if (window.btoa) {
                        var url = [window.location.protocol, '//', 
                            window.location.host, window.location.pathname,
                            '#', window.btoa(search)].join('');
                        window.history.pushState('', '', url);
                    }
                } else {
                    if (window.atob) {
                        search = window.atob(window.location.hash.substring(1));
                    }
                }

                var params = search.split('&');
                for (var i = 0; i < params.length; ++i) {
                    var pair = params[i].split('=');
                    $.queries[pair[0]] = decodeURIComponent(pair[1] || '');
                }

                var $el = $('#video');
                $.each($.queries, function(key, value) {
                    if ($.inArray(key, ['mp4', 'webm', 'ogg', 'ogv', 'flv']) != -1) {
                        $el.append('<source src="' + value + '" type="video/' + key + '"/>');
                    }
                    if ($.inArray(key, ['width', 'height']) != -1) {
                        $el.css(key, value);
                    }
                    if ($.inArray(key, ['autoplay', 'preload', 'poster', 'loop']) != -1) {
                        $el.attr(key, value);
                    }
                    if ($.inArray(key, ['en', 'zh']) != -1) {
                        var label = {'en': 'English', 'zh': 'Chinese'}[key];
                        $el.append('<track kind="captions" src="' + value + '" srclang="' + key + '" label="' + label + '"/>');
                    }
                });
            })(jQuery);
        </script>
    </body>
</html>